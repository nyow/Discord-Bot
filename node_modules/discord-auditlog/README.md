<p align="center"><a href="https://nodei.co/npm/discord-auditlog/"><img src="https://nodei.co/npm/discord-auditlog.png"></a></p>

# discord-auditlog
A simple Discord.js Module that send join/leave/ban/unban and nickname/discriminator/username/avatar in custom channel.  

## Installation
This module assumes you already have a basic [Discord.js](https://discord.js.org/#/) bot setup.
Simply type the following command to install the module and it depedencies.
```
npm i discord-auditlog
``` 

Once you've done this, setting the module will be very easy.
And you can follow the code  below to get started!

###Single-Server Usage without configuration (no server ID required in the configuration)
```js
const Auditlog = require("discord-auditlog");
// will send all event to #audit-logs channel
// will send movement (join/leave) to #in-out channel if the channel exist
Auditlog(bot);
```

###Single-Server Usage without configuration (no server ID required in the configuration)
```js
const Auditlog = require("discord-auditlog");
// will send all event to #audit-logs channel
// will send movement (join/leave) to #in-out channel if the channel exist
Auditlog(bot, {
	"serverid": {
		auditlog: "audit-log",
		movement: "in-out",
		auditmsg: false, // Default to fasle, recommend to set a channel
		voice: false // Set a Channel name if you want it

	}
});
```

###Multi-Servers Usage 
```js
const AutoRole = require("discord-streaming");
Auditlog(bot, {
	"serverid1": {
		auditlog: "audit-log",
		movement: "in-out",
		auditmsg: false, // Default to fasle, recommend to set a channel
		voice: false, // Set a Channel name if you want it
	}
	"serverid2": {
		auditlog: "audit-log",
		movement: "in-out",
		auditmsg: false, // Default to fasle, recommend to set a channel
		voice: false, // Set a Channel name if you want it
	}
});
```

##Caveat:
-Can't track kick (will see a leave)

###English:
This module was initialy coded for the Bucherons.ca gamers community, the Star Citizen Organization "Gardiens du LYS", Bar Citizen Coordinators and Bar Citizen Montreal Discord Servers.

###Français:
Ce module a initiallement été conçu pour la communauté de gamers Bucherons.ca, la communauté gaming pour adultes au Québec, l'organisation des Gardiens du LYS dans Star Citizen, les serveurs Discord de Bar Citizen Coordinators et Bar Citizen Montreal
  
Liens:  https://www.bucherons.ca, https://www.gardiensdulys.com, https://www.barcitizen.sc, https://www.barcitizenmtl.com

##Support:
You can reach me via my Discord Development Server at https://discord.gg/Tmtjkwz

###History:  
1.8.0 - Added Mesage Deleted and Message Updated.  
1.7.2 - Fixed logic check on row parent id crash.  
1.7.1 - NodeJS Linting  
1.7.0 - Rollback to 1.5.2 pre-linted  
1.5.2 - Adding user age in join message    
1.4.0 - Removed on("ready") and added  
1.3.1 - Removed Verbose message when voiceUpdate is set to false  
1.3.0 - Rewrote the log triage mechanism, log related to voice are now disabled by default  
1.2.0 Improved collection.find to the new format (remove deprecation warning in discord.js v11.4 and prepare for v12)  
1.0.2 Fixed false positive and formating on voice channel change  
1.0.1 Fixed package.json to load properly  
1.0.0 Initial publish  